{"name": "test_block", "status": "broken", "statusDetails": {"message": "pymysql.err.IntegrityError: (1062, \"Duplicate entry 'datastore_iscsi_Al9wDrMeTM' for key 'block_datastore_objs.PRIMARY'\")", "trace": "self = <test_block.Test_Setup object at 0x7ff8250724a8>\njsons = {'ip': {'ens192': {'gateway': '172.16.20.180', 'mask': '255.255.0.0', 'net': 'block-vaai', 'range': '172.16.98.200-172...tacenter': 'FileDatacenter', 'guestcredential': 'root:Admin@123', 'insecure': 'true', 'password': 'Password123!', ...}}\nconfig = {'PowerStore': {'NAS': {'bgjobip': '172.100.41.2', 'fsnum': 10, 'migrateip': '172.100.10.34,172.100.10.32,172.100.10.3...n'}, 'esxi_hosts': ['10.226.69.132', '10.226.69.203', '10.226.69.204', '10.226.69.206'], 'log_extension': '.log', ...}}\n\n    def test_block(self,jsons,config):\n        self.init(config,jsons)\n        self.init_vcenter_info(jsons)\n        with allure.step(\"create iscsi host\"):\n            self.create_host(config,jsons)\n        with allure.step(\"create iscsi volume\"):\n            self.create_volume(config)\n        with allure.step(\"create vmfs datastore\"):\n>           self.create_datastore(config)\n\ntestcase/PowerStore/Day0/VAAI/test_block.py:132: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntestcase/PowerStore/Day0/VAAI/test_block.py:78: in create_datastore\n    self.esxiExecutor.create_storage(host)\nutils/os/Esxi.py:159: in create_storage\n    database.insert_data(sql)\ncommon/databases/database.py:61: in insert_data\n    cursor.execute(insert_sql)\n/usr/local/python3/lib/python3.7/site-packages/pymysql/cursors.py:148: in execute\n    result = self._query(query)\n/usr/local/python3/lib/python3.7/site-packages/pymysql/cursors.py:310: in _query\n    conn.query(q)\n/usr/local/python3/lib/python3.7/site-packages/pymysql/connections.py:548: in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n/usr/local/python3/lib/python3.7/site-packages/pymysql/connections.py:775: in _read_query_result\n    result.read()\n/usr/local/python3/lib/python3.7/site-packages/pymysql/connections.py:1156: in read\n    first_packet = self.connection._read_packet()\n/usr/local/python3/lib/python3.7/site-packages/pymysql/connections.py:725: in _read_packet\n    packet.raise_for_error()\n/usr/local/python3/lib/python3.7/site-packages/pymysql/protocol.py:221: in raise_for_error\n    err.raise_mysql_exception(self._data)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ndata = b\"\\xff&\\x04#23000Duplicate entry 'datastore_iscsi_Al9wDrMeTM' for key 'block_datastore_objs.PRIMARY'\"\n\n    def raise_mysql_exception(data):\n        errno = struct.unpack(\"<h\", data[1:3])[0]\n        errval = data[9:].decode(\"utf-8\", \"replace\")\n        errorclass = error_map.get(errno)\n        if errorclass is None:\n            errorclass = InternalError if errno < 1000 else OperationalError\n>       raise errorclass(errno, errval)\nE       pymysql.err.IntegrityError: (1062, \"Duplicate entry 'datastore_iscsi_Al9wDrMeTM' for key 'block_datastore_objs.PRIMARY'\")\n\n/usr/local/python3/lib/python3.7/site-packages/pymysql/err.py:143: IntegrityError"}, "steps": [{"name": "create iscsi host", "status": "passed", "start": 1679452134687, "stop": 1679452141992}, {"name": "create iscsi volume", "status": "passed", "start": 1679452141992, "stop": 1679452147937}, {"name": "create vmfs datastore", "status": "broken", "statusDetails": {"message": "pymysql.err.IntegrityError: (1062, \"Duplicate entry 'datastore_iscsi_Al9wDrMeTM' for key 'block_datastore_objs.PRIMARY'\")\n", "trace": "  File \"/root/repo/ellie_han/ELAB/py_auto_test/testcase/PowerStore/Day0/VAAI/test_block.py\", line 132, in test_block\n    self.create_datastore(config)\n  File \"/root/repo/ellie_han/ELAB/py_auto_test/testcase/PowerStore/Day0/VAAI/test_block.py\", line 78, in create_datastore\n    self.esxiExecutor.create_storage(host)\n  File \"/root/repo/ellie_han/ELAB/py_auto_test/utils/os/Esxi.py\", line 159, in create_storage\n    database.insert_data(sql)\n  File \"/root/repo/ellie_han/ELAB/py_auto_test/common/databases/database.py\", line 61, in insert_data\n    cursor.execute(insert_sql)\n  File \"/usr/local/python3/lib/python3.7/site-packages/pymysql/cursors.py\", line 148, in execute\n    result = self._query(query)\n  File \"/usr/local/python3/lib/python3.7/site-packages/pymysql/cursors.py\", line 310, in _query\n    conn.query(q)\n  File \"/usr/local/python3/lib/python3.7/site-packages/pymysql/connections.py\", line 548, in query\n    self._affected_rows = self._read_query_result(unbuffered=unbuffered)\n  File \"/usr/local/python3/lib/python3.7/site-packages/pymysql/connections.py\", line 775, in _read_query_result\n    result.read()\n  File \"/usr/local/python3/lib/python3.7/site-packages/pymysql/connections.py\", line 1156, in read\n    first_packet = self.connection._read_packet()\n  File \"/usr/local/python3/lib/python3.7/site-packages/pymysql/connections.py\", line 725, in _read_packet\n    packet.raise_for_error()\n  File \"/usr/local/python3/lib/python3.7/site-packages/pymysql/protocol.py\", line 221, in raise_for_error\n    err.raise_mysql_exception(self._data)\n  File \"/usr/local/python3/lib/python3.7/site-packages/pymysql/err.py\", line 143, in raise_mysql_exception\n    raise errorclass(errno, errval)\n"}, "start": 1679452147937, "stop": 1679452260081}], "start": 1679452134492, "stop": 1679452260128, "uuid": "b8cd1971-34fa-4ba3-9fc9-f960646f798c", "historyId": "1d4cda16467927297659da36069c6e35", "testCaseId": "e348db01a5dbd9c71b0482f4906be7ad", "fullName": "testcase.PowerStore.Day0.VAAI.test_block.Test_Setup#test_block", "labels": [{"name": "parentSuite", "value": "testcase.PowerStore.Day0.VAAI"}, {"name": "suite", "value": "test_block"}, {"name": "subSuite", "value": "Test_Setup"}, {"name": "host", "value": "localhost.localdomain"}, {"name": "thread", "value": "21217-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.PowerStore.Day0.VAAI.test_block"}]}